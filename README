-- PAR: PL/SQL Archive
-- a jar for plsql


-- 1. create a par
-- this is a sample creating a PAR for a package i use to read/write excel files in plsql
-- this code will generate a pl/sql package named par_excel
begin
   
   par_creator.new_par('excel');
   par_creator.add_package('pkg_excel',true,false);
   
   for c_cur in (select object_name, dbms_java.longname(object_name) long_name 
                   from user_objects 
                  where object_type= 'JAVA CLASS'
                    and status= 'VALID') 
   loop
      par_creator.add_java_class(c_cur.long_name);
   end loop;
   
   for c_cur in (select object_name, dbms_java.longname(object_name) long_name 
                   from user_objects 
                  where object_type= 'JAVA RESOURCE') 
   loop
      par_creator.add_java_resource(c_cur.long_name);
   end loop;
   
   par_creator.close_par;
   par_creator.compile_par;
   
end;

-- 2. compile to another schema
-- then you can take the generated PAR (par_excel package) and compile it 
-- into another oracle schema

-- 3. deploy it contents!
begin
 par_excel.deploy;
end;

-- easy eh?
-- actually PARs can contain (and deploy) any PL/SQL source, java sources/classes/resources and xdb files
-- once created a PAR has no external dependency (it uses only system provide packages to accomplish the deploy)
